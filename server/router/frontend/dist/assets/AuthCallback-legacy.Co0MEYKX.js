System.register(["./mui-vendor-legacy.DYmTMD2B.js","./react-vendor-legacy.dIDhV_HT.js","./app-legacy.CVYr41OX.js","./utils-vendor-legacy.4FVC2SsJ.js","./mermaid-vendor-legacy.CXJ3QjYr.js","./highlight-vendor-legacy.CLg3VipY.js","./katex-vendor-legacy.C64AXX5g.js","./leaflet-vendor-legacy.DCz_1vRz.js"],(function(e,a){"use strict";var t,r,s,l,i,n,o,c,d;return{setters:[e=>{t=e.j},e=>{r=e.u,s=e.a},e=>{l=e.a,i=e.l,n=e.g,o=e.i,c=e.L},e=>{d=e.l},null,null,null,null],execute:function(){e("default",(()=>{const e=l(),[a]=r(),[g,u]=s.useState({loading:!0,errorMessage:""});return s.useEffect((()=>{const t=a.get("code"),r=a.get("state");if(!t||!r)return void u({loading:!1,errorMessage:"Failed to authorize. Invalid state passed to the auth callback."});const s=Number(d(r.split("-")));if(!s)return void u({loading:!1,errorMessage:"No identity provider ID found in the state parameter."});const l=i("/auth/callback");(async()=>{try{await n.signInWithSSO({idpId:s,code:t,redirectUri:l}),u({loading:!1,errorMessage:""}),await o(),e("/")}catch(a){console.error(a),u({loading:!1,errorMessage:a.details})}})()}),[a]),t.jsx("div",{className:"p-4 py-24 w-full h-full flex justify-center items-center",children:g.loading?t.jsx(c,{className:"animate-spin dark:text-gray-200"}):t.jsx("div",{className:"max-w-lg font-mono whitespace-pre-wrap opacity-80",children:g.errorMessage})})}))}}}));
