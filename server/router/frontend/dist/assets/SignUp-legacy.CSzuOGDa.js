System.register(["./mui-vendor-legacy.DYmTMD2B.js","./app-legacy.CVYr41OX.js","./react-vendor-legacy.dIDhV_HT.js","./AuthFooter-legacy.DnfqJ_o_.js","./utils-vendor-legacy.4FVC2SsJ.js","./mermaid-vendor-legacy.CXJ3QjYr.js","./highlight-vendor-legacy.CLg3VipY.js","./katex-vendor-legacy.C64AXX5g.js","./leaflet-vendor-legacy.DCz_1vRz.js","./LocaleSelect-legacy.9T65N6EW.js"],(function(e,s){"use strict";var l,a,t,i,r,n,c,o,m,u,d,x,g,f;return{setters:[e=>{l=e.j},e=>{a=e.u,t=e.a,i=e.b,r=e.w,n=e.e,c=e.f,o=e.L,m=e.g,u=e.i,d=e.h},e=>{x=e.a,g=e.L},e=>{f=e.A},null,null,null,null,null,null],execute:function(){e("default",(()=>{const e=a(),s=t(),h=i(!1),[p,j]=x.useState(""),[y,w]=x.useState(""),v=r.state.generalSetting,N=async()=>{if(""!==p&&""!==y&&!h.isLoading){try{h.setLoading(),await m.signUp({username:p,password:y}),await u(),s("/")}catch(e){console.error(e),d.error(e.details||"Sign up failed")}h.setFinish()}};return l.jsxs("div",{className:"py-4 sm:py-8 w-80 max-w-full min-h-[100svh] mx-auto flex flex-col justify-start items-center",children:[l.jsxs("div",{className:"w-full py-4 grow flex flex-col justify-center items-center",children:[l.jsxs("div",{className:"w-full flex flex-row justify-center items-center mb-6",children:[l.jsx("img",{className:"h-14 w-auto rounded-full shadow",src:v.customProfile?.logoUrl||"/logo.webp",alt:""}),l.jsx("p",{className:"ml-2 text-5xl text-black opacity-80 dark:text-gray-200",children:v.customProfile?.title||"Memos"})]}),v.disallowUserRegistration?l.jsx("p",{className:"w-full text-2xl mt-2 dark:text-gray-500",children:"Sign up is not allowed."}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"w-full text-2xl mt-2 dark:text-gray-500",children:e("auth.create-your-account")}),l.jsxs("form",{className:"w-full mt-2",onSubmit:e=>{e.preventDefault(),N()},children:[l.jsxs("div",{className:"flex flex-col justify-start items-start w-full gap-4",children:[l.jsxs("div",{className:"w-full flex flex-col justify-start items-start",children:[l.jsx("span",{className:"leading-8 text-gray-600",children:e("common.username")}),l.jsx(n,{className:"w-full bg-white dark:bg-black",size:"lg",type:"text",readOnly:h.isLoading,placeholder:e("common.username"),value:p,autoComplete:"username",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const s=e.target.value;j(s)},required:!0})]}),l.jsxs("div",{className:"w-full flex flex-col justify-start items-start",children:[l.jsx("span",{className:"leading-8 text-gray-600",children:e("common.password")}),l.jsx(n,{className:"w-full bg-white dark:bg-black",size:"lg",type:"password",readOnly:h.isLoading,placeholder:e("common.password"),value:y,autoComplete:"password",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const s=e.target.value;w(s)},required:!0})]})]}),l.jsx("div",{className:"flex flex-row justify-end items-center w-full mt-6",children:l.jsxs(c,{type:"submit",color:"primary",size:"lg",fullWidth:!0,disabled:h.isLoading,onClick:N,children:[e("common.sign-up"),h.isLoading&&l.jsx(o,{className:"w-5 h-auto ml-2 animate-spin opacity-60"})]})})]})]}),r.state.profile.owner?l.jsxs("p",{className:"w-full mt-4 text-sm",children:[l.jsx("span",{className:"dark:text-gray-500",children:e("auth.sign-in-tip")}),l.jsx(g,{to:"/auth",className:"cursor-pointer ml-2 text-blue-600 hover:underline",viewTransition:!0,children:e("common.sign-in")})]}):l.jsx("p",{className:"w-full mt-4 text-sm font-medium dark:text-gray-500",children:e("auth.host-tip")})]}),l.jsx(f,{})]})}))}}}));
