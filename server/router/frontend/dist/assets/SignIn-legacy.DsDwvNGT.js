System.register(["./mui-vendor-legacy.DYmTMD2B.js","./app-legacy.CVYr41OX.js","./react-vendor-legacy.dIDhV_HT.js","./AuthFooter-legacy.DnfqJ_o_.js","./PasswordSignInForm-legacy.CzBdP3kb.js","./utils-vendor-legacy.4FVC2SsJ.js","./mermaid-vendor-legacy.CXJ3QjYr.js","./highlight-vendor-legacy.CLg3VipY.js","./katex-vendor-legacy.C64AXX5g.js","./leaflet-vendor-legacy.DCz_1vRz.js","./LocaleSelect-legacy.9T65N6EW.js"],(function(e,s){"use strict";var l,t,a,i,n,r,o,c,d,u,m,x,f,g,h,j;return{setters:[e=>{l=e.j,t=e.D},e=>{a=e.u,i=e.j,n=e.w,r=e.x,o=e.f,c=e.y,d=e.z,u=e.I,m=e.l,x=e.h},e=>{f=e.a,g=e.L},e=>{h=e.A},e=>{j=e.P},null,null,null,null,null,null],execute:function(){e("default",(()=>{const e=a(),s=i(),[y,w]=f.useState([]),p=n.state.generalSetting;return f.useEffect((()=>{s&&(window.location.href=r.ROOT)}),[]),f.useEffect((()=>{(async()=>{const{identityProviders:e}=await c.listIdentityProviders({});w(e)})()}),[]),l.jsxs("div",{className:"py-4 sm:py-8 w-80 max-w-full min-h-[100svh] mx-auto flex flex-col justify-start items-center",children:[l.jsxs("div",{className:"w-full py-4 grow flex flex-col justify-center items-center",children:[l.jsxs("div",{className:"w-full flex flex-row justify-center items-center mb-6",children:[l.jsx("img",{className:"h-14 w-auto rounded-full shadow",src:p.customProfile?.logoUrl||"/logo.webp",alt:""}),l.jsx("p",{className:"ml-2 text-5xl text-black opacity-80 dark:text-gray-200",children:p.customProfile?.title||"Memos"})]}),p.disallowPasswordAuth?l.jsx("p",{className:"w-full text-2xl mt-2 dark:text-gray-500",children:"Password auth is not allowed."}):l.jsx(j,{}),!p.disallowUserRegistration&&!p.disallowPasswordAuth&&l.jsxs("p",{className:"w-full mt-4 text-sm",children:[l.jsx("span",{className:"dark:text-gray-500",children:e("auth.sign-up-tip")}),l.jsx(g,{to:"/auth/signup",className:"cursor-pointer ml-2 text-blue-600 hover:underline",viewTransition:!0,children:e("common.sign-up")})]}),y.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(t,{className:"!my-4",children:e("common.or")}),l.jsx("div",{className:"w-full flex flex-col space-y-2",children:y.map((s=>l.jsx(o,{className:"bg-white dark:bg-black",variant:"outlined",fullWidth:!0,onClick:()=>(async e=>{const s=`auth.signin.${e.title}-${d(e.name)}`;if(e.type===u.OAUTH2){const l=m("/auth/callback"),t=e.config?.oauth2Config;if(!t)return void x.error("Identity provider configuration is invalid.");const a=`${t.authUrl}?client_id=${t.clientId}&redirect_uri=${l}&state=${s}&response_type=code&scope=${encodeURIComponent(t.scopes.join(" "))}`;window.location.href=a}})(s),children:e("common.sign-in-with",{provider:s.title})},s.name)))})]})]}),l.jsx(h,{})]})}))}}}));
