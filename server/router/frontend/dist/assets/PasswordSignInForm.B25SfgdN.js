import{j as e}from"./mui-vendor.BwEHDYNi.js";import{u as j,a as y,b,w as c,e as d,d as v,f as C,L as N,g as k,i as L,h as S}from"./app.BmPucvBz.js";import{o as z}from"./utils-vendor.gMQV7HrB.js";import{a as n}from"./react-vendor.DIaRSUZC.js";const T=z(()=>{const t=j(),u=y(),a=b(!1),[r,f]=n.useState(c.state.profile.mode==="demo"?"yourselfhosted":""),[o,g]=n.useState(c.state.profile.mode==="demo"?"yourselfhosted":""),[i,p]=n.useState(!0),h=s=>{const l=s.target.value;f(l)},x=s=>{const l=s.target.value;g(l)},w=s=>{s.preventDefault(),m()},m=async()=>{if(!(r===""||o==="")&&!a.isLoading){try{a.setLoading(),await k.signIn({username:r,password:o,neverExpire:i}),await L(),u("/")}catch(s){console.error(s),S.error(s.details||"Failed to sign in.")}a.setFinish()}};return e.jsxs("form",{className:"w-full mt-2",onSubmit:w,children:[e.jsxs("div",{className:"flex flex-col justify-start items-start w-full gap-4",children:[e.jsxs("div",{className:"w-full flex flex-col justify-start items-start",children:[e.jsx("span",{className:"leading-8 text-gray-600",children:t("common.username")}),e.jsx(d,{className:"w-full bg-white dark:bg-black",size:"lg",type:"text",readOnly:a.isLoading,placeholder:t("common.username"),value:r,autoComplete:"username",autoCapitalize:"off",spellCheck:!1,onChange:h,required:!0})]}),e.jsxs("div",{className:"w-full flex flex-col justify-start items-start",children:[e.jsx("span",{className:"leading-8 text-gray-600",children:t("common.password")}),e.jsx(d,{className:"w-full bg-white dark:bg-black",size:"lg",type:"password",readOnly:a.isLoading,placeholder:t("common.password"),value:o,autoComplete:"password",autoCapitalize:"off",spellCheck:!1,onChange:x,required:!0})]})]}),e.jsx("div",{className:"flex flex-row justify-start items-center w-full mt-6",children:e.jsx(v,{label:t("common.remember-me"),checked:i,onChange:s=>p(s.target.checked)})}),e.jsx("div",{className:"flex flex-row justify-end items-center w-full mt-6",children:e.jsxs(C,{type:"submit",color:"primary",size:"lg",fullWidth:!0,disabled:a.isLoading,onClick:m,children:[t("common.sign-in"),a.isLoading&&e.jsx(N,{className:"w-5 h-auto ml-2 animate-spin opacity-60"})]})})]})});export{T as P};
